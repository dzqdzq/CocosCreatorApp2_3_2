"use strict";require("lodash");module.exports=class{constructor(){this._buildAssets=null,this._packedAssets=null,this._subpackages=null,this._nativeMd5Map=null,this._md5Map=null}containsAsset(t,s){var e=t in this._buildAssets;return!e&&s&&Editor.error(`The bulid not contains an asset with the given uuid "${t}".`),e}getAssetUuids(){return Object.keys(this._buildAssets)}getDependencies(t){return this.containsAsset(t,!0)?Editor.Utils.getDependsRecursively(this._buildAssets,t,"dependUuids"):[]}getAssetType(t){return this.containsAsset(t,!0),function(t){var s=Editor.assetdb.assetInfoByUuid(t);if(!s)return cc.js._getClassId(cc.Texture2D,!1);var e=s.type,i=Editor.assets[e];return i?cc.js._getClassId(i,!1):(Editor.error("Can not get asset type of "+t),cc.js._getClassId(cc.RawAsset,!1))}(t)}getNativeAssetPath(t){return this.getNativeAssetPaths(t)[0]||""}getNativeAssetPaths(t){if(!this.containsAsset(t,!0))return[];let s=this._buildAssets[t];if("object"!=typeof s)return[];let e=[];s.nativePaths?e=s.nativePaths:s.nativePath&&(e=[s.nativePath]);let i=this._nativeMd5Map&&this._nativeMd5Map[t];if(i)for(let t=0;t<e.length;++t){let s=e[t],n=s.lastIndexOf(".");e[t]=s.substr(0,n)+`.${i}`+s.substr(n,s.length)}return e}};