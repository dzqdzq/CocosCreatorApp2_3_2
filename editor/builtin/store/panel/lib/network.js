"use strict";const e=require("https"),{stringify:r}=require("querystring"),{parse:o}=require("url");exports.get=function(t,s,n){var l=o(t);s=r(s||{});var a={method:"GET",host:l.hostname,port:l.port||443,path:l.pathname+"?"+s,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Cocos Creator 3D/0.8.5 Chrome/73.0.3683.119 Electron/5.0.0 Safari/537.36"},ciphers:"ALL",secureProtocol:"TLSv1_method"};e.request(a,e=>{const r=e.statusCode;e.headers["content-type"];let o;if(200!==r&&(o=new Error(`请求失败。\n状态码: ${r}`)),o)return console.log(o.message),e.resume(),n(o,null),void 0;e.setEncoding("utf8");let t="";e.on("data",e=>t+=e),e.on("end",()=>{try{let e=JSON.parse(t);process.nextTick(()=>{n(null,e)})}catch(e){console.log(e.message),n(e,null)}})}).on("error",e=>{console.log(`错误: ${e.message}`),n(e,null)}).end()};